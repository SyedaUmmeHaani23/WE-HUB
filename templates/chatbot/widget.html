{% extends 'base.html' %}

{% block title %}Chatbot Widget - WE Hub{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-transparent d-flex justify-content-between align-items-center">
                    <h1 class="h3 mb-0">WE Hub Assistant</h1>
                    {% if config.get('OPENAI_API_KEY') %}
                    <span class="badge bg-info">AI-Powered</span>
                    {% endif %}
                </div>
                <div class="card-body">
                    <div class="chatbot-window-embed">
                        <div class="chatbot-messages-embed" id="chatbot-messages-embed" style="height: 400px; overflow-y: auto; border: 1px solid #e9ecef; border-radius: 0.25rem; padding: 1rem; margin-bottom: 1rem;">
                            <div class="chatbot-message bot-message">
                                <div class="message-avatar">
                                    <i class="fas fa-robot"></i>
                                </div>
                                <div class="message-text">
                                    Hello! I'm your WE Hub assistant. How can I help you today?
                                </div>
                            </div>
                            <div class="chatbot-message bot-message">
                                <div class="message-avatar">
                                    <i class="fas fa-robot"></i>
                                </div>
                                <div class="message-text">
                                    You can ask me about setting up your business profile, managing products, using our community features, or any other questions about the platform.
                                    {% if config.get('OPENAI_API_KEY') %}
                                    <br><br><small class="text-info"><i class="fas fa-info-circle"></i> I'm powered by AI and can understand complex questions about entrepreneurship and business strategies.</small>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        
                        <div class="chatbot-input-container-embed d-flex">
                            <input type="text" id="chatbot-input-embed" class="form-control me-2" placeholder="Type your question...">
                            <button id="chatbot-send-embed" class="btn btn-primary">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card border-0 shadow-sm mt-4">
                <div class="card-header bg-transparent">
                    <h3 class="h5 mb-0">FAQ - Common Questions</h3>
                </div>
                <div class="card-body">
                    <div class="accordion" id="faqAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                    How do I set up my business profile?
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    To set up your business profile, go to your Profile page after logging in and fill in your business details in the "Business Details" tab. Add information such as your business name, description, category, location, and contact information.
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    How do I add products to my shop?
                                </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    You can add products by navigating to Shop > My Products > Add Product. Fill in the required details such as product name, description, price, and category. After creating the product, you can add images on the edit page.
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    How do payments work on the platform?
                                </button>
                            </h2>
                            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    We support Google Pay for seamless and secure transactions. Payment processing is handled securely through our platform, and funds are transferred directly to your linked account.
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFour">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                    What community features are available?
                                </button>
                            </h2>
                            <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Our community features include forums for discussions and an events calendar for networking opportunities. You can create and participate in discussions in the Community section, and attend or host virtual and in-person events.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/chatbot.js"></script>
{% endblock %}
